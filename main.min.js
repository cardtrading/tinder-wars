/*! angular-app 2015-02-12 */
"use strict";function onError(error){console.log("Error getting geolocation. ",error)}$(document).ready(function(){$("#cards").on("click",".action-yes",function(){$(this).parents(".card").addClass("swipe swipe-left").one("webkitAnimationEnd animationend",function(){$(this).hide()})}),$("#cards").on("click",".action-no",function(){$(this).parents(".card").addClass("swipe swipe-right").one("webkitAnimationEnd animationend",function(){$(this).hide()})})});var peopleApp=angular.module("angularApp",[]),api="http://tinder-api.herokuapp.com/people";peopleApp.controller("PeopleListCtrl",function($scope,$http){$http.get(api).success(function(data){$scope.people=data,data.forEach(function(person){var latitude=person.latitude,longitude=person.longitude,url="https://maps.googleapis.com/maps/api/geocode/json?latlng="+latitude+","+longitude+"&sensor=true_or_false";Tinder.ajax(url,{},function(response){try{person.city=response.results[0].address_components[3].long_name}catch(e){person.city="Unknown"}$scope.$apply()})})})});var Tinder=window.Tinder||{};Tinder.ajax=function(url,data,callback){var xhr=new XMLHttpRequest;xhr.open("POST",url),xhr.send(data),xhr.onload=function(event){var response=JSON.parse(event.target.response);callback(response)}};var Tinder=window.Tinder||{};Tinder.geolocate=function(onSuccess){if(!navigator.geolocation)throw new Error("Geolocation API not available.");var options={enableHighAccuracy:!0,maximumAge:3e4,timeout:6e4};navigator.geolocation.getCurrentPosition(onSuccess,onError,options)};var Tinder=window.Tinder||{};Tinder.notify=function(title,options){if(!window.Notification)throw new Error("Notification API not supported!");"denied"!==Notification.permission&&Notification.requestPermission(function(permission){"granted"===permission&&new Notification(title,options)})};var Tinder=window.Tinder||{};Tinder.query=function(selector){return document.querySelector(selector)},Tinder.on=function(element,event,callback){element.addEventListener(event,callback)};var Tinder=window.Tinder||{};if(!window.localStorage)throw new Error("Local Storage API not available.");Tinder.save=function(key,value){window.localStorage.setItem(key,JSON.stringify(value))},Tinder.get=function(key){return JSON.parse(window.localStorage.getItem(key))},Tinder.remove=function(key){window.localStorage.removeItem(key)};